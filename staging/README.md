# Staging Area for AI-Generated Content

This directory provides a safe staging environment for AI-generated content before it's integrated into the main site. This helps prevent fake or invented data from appearing on the live website.

## Directory Structure

```
staging/
├── ai-generated/          # Raw AI-generated content
│   ├── products/         # Product data generated by AI
│   ├── reviews/          # Review content generated by AI
│   └── comparisons/      # Comparison tables and analysis
├── pending-review/       # Content awaiting human review
└── approved/            # Content approved for production
```

## Workflow

### 1. AI Content Generation
When AI generates new content, it should be saved to the appropriate `ai-generated/` subdirectory:

```bash
# Example: AI generates new product data
echo "$AI_CONTENT" > staging/ai-generated/products/new-pool-cleaner.json
```

### 2. Validation
Run validation on AI-generated content before moving to pending-review:

```bash
# Validate AI-generated product data
node scripts/validate-ai-content.js staging/ai-generated/products/new-pool-cleaner.json
```

### 3. Move to Pending Review
After validation passes, move content to pending-review:

```bash
mv staging/ai-generated/products/new-pool-cleaner.json staging/pending-review/
```

### 4. Human Review Process
- Review content in `pending-review/` directory
- Check for accuracy, completeness, and data quality
- Verify all links and affiliate codes
- Ensure no placeholder or fake data

### 5. Approval
Once reviewed and verified, move to approved:

```bash
mv staging/pending-review/new-pool-cleaner.json staging/approved/
```

### 6. Integration
Approved content can be safely integrated into the main site:

```bash
# Merge approved data into production
node scripts/integrate-approved-content.js
```

## Safety Checks

1. **Never bypass staging** - All AI-generated content must go through staging
2. **Validate everything** - Run validation scripts on all AI content
3. **Human review required** - No automated deployment of AI content
4. **Track changes** - Use git to track all content changes

## Validation Rules

AI-generated content must pass these checks:
- No placeholder text (lorem ipsum, etc.)
- Valid product names and models
- Realistic ratings and review counts
- Proper affiliate link format
- Complete feature lists
- No conflicting data

## Emergency Rollback

If fake data appears on the live site:

1. Immediately revert to last known good commit:
   ```bash
   git revert HEAD
   ./scripts/github-deploy.sh
   ```

2. Review staging process to identify failure point
3. Update validation rules to catch similar issues

## Best Practices

1. **Chunk Processing**: For large datasets, process in chunks:
   ```bash
   # Split large AI output into chunks
   node scripts/split-ai-data.js staging/ai-generated/products/bulk-data.json
   ```

2. **Version Control**: Keep versions of AI prompts that generated content:
   ```bash
   # Save prompt alongside generated content
   echo "$PROMPT" > staging/ai-generated/products/new-pool-cleaner.prompt
   ```

3. **Comparison**: Always compare AI content with golden data:
   ```bash
   node scripts/compare-with-golden.js staging/pending-review/new-pool-cleaner.json
   ```

## Monitoring

Check staging area status:
```bash
# Show pending reviews
ls -la staging/pending-review/

# Show approved content ready for integration
ls -la staging/approved/

# Check for old/stale content
find staging/ -mtime +7 -type f
```

---

Remember: The staging area is your safety net against fake or invented data appearing on the production site!